@page
@model CrossBIM.Pages.DXFToIFC.StoreyBasicDetailsModel
@{
}
<div class="mt-3 container">
    <div style="margin: auto;width:60%">

        <h3 id="addNewStorey">Storey Basic Details</h3>
        <hr />
        @*@if (!(Model.Status))
            {
                <a asp-page="./IsoFootingBasicDetails" asp-route-fileName="@Model.ProjectName" class="btn btn-info btn-lg" style="display:block;margin-bottom:20px;width:245px">Add Isolated Footing</a>
            }*@

        <div class="modal-body">
            <form method="post" id="basicDetails" enctype="multipart/form-data">

                <input asp-for="ProjectName" hidden />
                <input asp-for="IFCFileName" hidden />
                <input asp-for="ProjectUnits" hidden />

                <div class="modal-body">

                    @if (Model.Message != null)
                    {
                        <span class="text-danger" style="display:inline-block;margin-bottom:10px">@Model.Message</span>
                    }

                    <div class="form-group row">
                        <label asp-for="RefFile" class="col-md-5 col-form-label">Select Storey DXF File</label>
                        <div class="col-md-7">
                            <input type="file" asp-for="RefFile" class="form-control" accept=".dxf,.dwg" />
                            <span asp-validation-for="RefFile" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label asp-for="ViewModelStorey.NumOfRepetitions" class="col-md-5 col-form-label">Storey Number Of Duplication</label>
                        <div class="col-md-7">
                            <input asp-for="ViewModelStorey.NumOfRepetitions" class="form-control">
                            <span asp-validation-for="ViewModelStorey.NumOfRepetitions" class="alert-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label asp-for="ViewModelStorey.Elevation" class="col-md-5 col-form-label">Storey Elevation</label>
                        <div class="col-md-7">
                            <input asp-for="ViewModelStorey.Elevation" class="form-control">
                            <span asp-validation-for="ViewModelStorey.Elevation" class="alert-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label asp-for="ViewModelStorey.Height" class="col-md-5 col-form-label">Storey Height</label>
                        <div class="col-md-7">
                            <input asp-for="ViewModelStorey.Height" class="form-control">
                            <span asp-validation-for="ViewModelStorey.Height" class="alert-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label asp-for="ViewModelStorey.BeamsNumberOfCategories" class="col-md-5 col-form-label">Number Of Beams Categories</label>
                        <div class="col-md-7">
                            <input asp-for="ViewModelStorey.BeamsNumberOfCategories" class="form-control">
                            <span asp-validation-for="ViewModelStorey.BeamsNumberOfCategories" class="alert-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label asp-for="ViewModelStorey.SlabsNumberOfCategories" class="col-md-5 col-form-label">Number Of Slabs Categories</label>
                        <div class="col-md-7">
                            <input asp-for="ViewModelStorey.SlabsNumberOfCategories" class="form-control">
                            <span asp-validation-for="ViewModelStorey.SlabsNumberOfCategories" class="alert-danger"></span>
                        </div>
                    </div>

                </div>
            </form>
        </div>
        <div class="modal-footer" style="margin: 20px 0 60px;">
            @*<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>*@
            <button id="submitbasicForm" type="button" class="btn btn-info">Save changes</button>

            @if (Model.Status)
            {
                <a asp-page="./Download" asp-route-fileName="@Model.IFCFileName" class="btn btn-info" style="display:inline-block;margin-left:20px">Convert to IFC</a>
                <script>
                    document.getElementById("addNewStorey").innerText = "Add New Storey Basic Details";
                    document.getElementById("submitbasicForm").innerText = "Add New Storey";
                </script>
            }
        </div>

    </div>

</div>

<script>
    document.getElementById("submitbasicForm").addEventListener("click", function () {
        document.forms["basicDetails"].submit();
    });
</script>
<style>
    body {
        margin-bottom: 120px !important;
    }
</style>